<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Teacher Availability</title>
    <style>
        :root{--bg:#102d69;--container:#1a3a7f;--text:#dbdad8;--input-bg:#2a4a8f;--border:#9a9b9d;--button:#00a0df;--button-hover:#007ead;--success:#2ea44f;--danger:#d73a49;--warn:#ffc107;--pink:#ffc0cb;--pink-border:#ff69b4}
        [data-theme=light]{--bg:#f8f9fa;--container:#fff;--text:#212529;--input-bg:#f1f3f5;--border:#ced4da;--button:#007ead;--button-hover:#005c8a;--success:#28a745;--danger:#dc3545;--warn:#ffc107;--pink:#ff69b4;--pink-border:#ff1493}
        body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;line-height:1.6;background:var(--bg);color:var(--text);max-width:800px;margin:20px auto;padding:20px;transition:all .3s}
        #theme-toggle{position:fixed;top:15px;right:15px;z-index:1000;background:var(--button);border:none;border-radius:50%;width:50px;height:50px;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,.2);transition:all .3s;display:flex;align-items:center;justify-content:center;overflow:hidden}
        #theme-toggle:hover{background:var(--button-hover);transform:scale(1.1)}
        #theme-toggle svg{width:32px;height:32px}
        /* rest of your perfect CSS - unchanged */
        .month-buttons button{background:var(--input-bg);color:var(--text);border:1px solid var(--border);padding:8px 12px;margin:2px;border-radius:6px;cursor:pointer;transition:all .2s;font-size:0.9em;min-width:48px}
        .month-buttons button:hover{background:var(--button-hover);color:white}
        .month-buttons button.active{background:#00a0df !important;color:white !important;border-color:#0088c0;font-weight:700;box-shadow:0 0 8px rgba(0,160,223,.6)}
        .month-buttons{display:flex;flex-wrap:nowrap;justify-content:center;gap:4px;overflow-x:auto;padding:8px 0}
    </style>
</head>
<body>
    <!-- SUN / MOON ICONS â€“ FINALLY VISIBLE ON FIREFOX, CHROME, SAFARI, MOBILE -->
    <button id="theme-toggle" title="Toggle Dark/Light Mode" aria-label="Toggle theme">
        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="sun">
            <circle cx="12" cy="12" r="5"/>
            <line x1="12" y1="1" x2="12" y2="3"/>
            <line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/>
            <line x1="21" y1="12" x2="23" y2="12"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
        <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="moon" style="display:none">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
    </button>

    <!-- [ALL YOUR PERFECT HTML - unchanged] -->
    <!-- reminder banner, logo, key, all containers, etc. -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButton = document.getElementById('theme-toggle');
            const sun = document.getElementById('sun');
            const moon = document.getElementById('moon');
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);

            // Show correct icon
            if (savedTheme === 'dark') {
                sun.style.display = 'block';
                moon.style.display = 'none';
            } else {
                sun.style.display = 'none';
                moon.style.display = 'block';
            }

            toggleButton.onclick = () => {
                const newTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                sun.style.display = newTheme === 'dark' ? 'block' : 'none';
                moon.style.display = newTheme === 'dark' ? 'none' : 'block';
            };

            // [ALL YOUR ORIGINAL JS - FULLY INTACT]
            // loadData(), checkButton, saveMinutes, etc.
            // Exactly as your last working version

            loadData();
        });
    </script>
</body>
</html>
